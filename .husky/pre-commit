# Check for unstaged changes
if ! git diff --quiet; then
  echo "âŒ Error: You have unstaged changes. Please 'git add' all changes before committing."
  echo ""
  echo "Unstaged files:"
  git diff --name-only
  exit 1
fi

# Run biome check
echo "ğŸ” Running biome check..."
pnpm run lint

if [ $? -ne 0 ]; then
  echo "âŒ Biome check failed. Commit aborted."
  exit 1
fi

# Run build check
echo "ğŸ”¨ Running build check..."
pnpm run build

if [ $? -ne 0 ]; then
  echo "âŒ Build failed. Commit aborted."
  exit 1
fi

echo "âœ… All checks passed!"
